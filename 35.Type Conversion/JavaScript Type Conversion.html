<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript Type Conversion</title>
</head>
<body>

<h4>The typeof Operator</h4>
<p id="type-of"></p>

<h4>The Data Type of typeof</h4>
<h5>The constructor Property</h5>
<p id="constructor"></p>
<p id="is-array-1"></p>
<p id="is-array-2"></p>
<p id="is-date-1"></p>
<p id="is-date-2"></p>

<h4>JavaScript Type Conversion</h4>
<h5>Converting Numbers to Strings</h5>
<p id="string"></p>
<p id="to-string"></p>

<h5>Converting Booleans to Strings</h5>
<p id="boolean-to-string"></p>

<h5>Converting Dates to Strings</h5>
<p id="date-to-string"></p>

<h5>Converting Strings to Numbers</h5>
<p id="string-to-number"></p>

<h5>The Unary + Operator</h5>
<p id="unary-operator"></p>

<h5>Converting Booleans to Numbers</h5>
<p id="boolean-to-number"></p>

<h5>Converting Dates to Numbers</h5>
<p id="date-to-number"></p>

<h5>Automatic Type Conversion</h5>
<p id="automatic-type-conversion"></p>

<script>
    /**
     * @file JavaScript Type Conversion
     *
     * @author 张志杰 <zhangzhijie@atlasdata.com.cn>
     *     创建于 2017年05月22日
     *
     * @copyright (c) 2014-2017 海量云图（北京）数据技术有限公司
     */

    document.getElementById("type-of").innerHTML =
        typeof "john" + "<br>" +
        typeof 3.14 + "<br>" +
        typeof NaN + "<br>" +
        typeof false + "<br>" +
        typeof [1, 2, 3, 4] + "<br>" +
        typeof {name: 'john', age: 34} + "<br>" +
        typeof new Date() + "<br>" +
        typeof function () {
        } + "<br>" +
        typeof car + "<br>" +
        typeof null;

    document.getElementById("constructor").innerHTML =
        "john".constructor + "<br>" +
        (3.14).constructor + "<br>" +
        false.constructor + "<br>" +
        [1, 2, 3, 4].constructor + "<br>" +
        {name: 'john', age: 34}.constructor + "<br>" +
        new Date().constructor + "<br>" +
        function () {
        }.constructor;

    /**
     * 判断入参是不是数组-方式1
     * @param arr
     * @returns {boolean}
     */
    function isArray1(arr) {
        return arr.constructor.toString().indexOf("Array") > -1;
    }

    /**
     * 判断入参是不是数组-方式2
     * @param arr
     * @returns {boolean}
     */
    function isArray2(arr) {
        return arr.constructor === Array;
    }
    var a = [1, 2, 3, 4];
    document.getElementById("is-array-1").textContent = isArray1(a);
    document.getElementById("is-array-2").textContent = isArray2(a);

    /**
     * 判断入参是不是日期对象-方式1
     * @param date
     * @returns {boolean}
     */
    function isDate1(date) {
        return date.constructor.toString().indexOf("Date") > -1;
    }

    /**
     * 判断入参是不是日期对象-方式2
     * @param date
     * @returns {boolean}
     */
    function isDate2(date) {
        return date.constructor === Date;
    }
    var d = new Date();
    document.getElementById("is-date-1").textContent = isDate1(d);
    document.getElementById("is-date-2").textContent = isDate2(d);

    var x = 213;
    document.getElementById("string").innerHTML =
        String(x) + "<br>" +
        String(1243) + "<br>" +
        String(34 + 3);

    document.getElementById("to-string").innerHTML =
        x.toString() + "<br>" +
        (1243).toString() + "<br>" +
        (34 + 3).toString();

    document.getElementById("boolean-to-string").innerHTML =
        String(true) + "<br>" +
        String(false);

    document.getElementById("date-to-string").textContent = String(new Date());

    document.getElementById("string-to-number").innerHTML =
        Number("3.14") + "<br>" +
        Number(" ") + "<br>" +
        Number("") + "<br>" +
        Number("99 88");

    document.getElementById("unary-operator").innerHTML =
        (+"5") + "<br>" +
        (+'John');

    document.getElementById("boolean-to-number").innerHTML =
        Number(false) + "<br>" +
        Number(true);

    document.getElementById("date-to-number").innerHTML =
        Number(new Date()) + "<br>" +
        Number((new Date()).getTime());

    document.getElementById("automatic-type-conversion").innerHTML =
        (5 + null) + "<br>" +
        ("5" + null) + "<br>" +
        ("5" + 2) + "<br>" +
        ("5" - 2) + "<br>" +
        ("5" * "2");

</script>

</body>
</html>